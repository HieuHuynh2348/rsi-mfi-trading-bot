/**
 * Base Styles & Reset - Mobile-First
 * Optimized for iOS Safari & Android Chrome
 */

/* ============================================================ */
/* MODERN RESET */
/* ============================================================ */
*, *::before, *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html {
    /* Prevent font scaling in landscape on iOS */
    -webkit-text-size-adjust: 100%;
    /* Enable smooth scrolling */
    scroll-behavior: smooth;
    /* Remove tap highlight on iOS */
    -webkit-tap-highlight-color: transparent;
}

body {
    font-family: var(--font-family);
    font-size: var(--font-md);
    font-weight: var(--weight-regular);
    line-height: 1.5;
    color: var(--text-primary);
    background: var(--primary-bg);
    
    /* Prevent overscroll bounce on iOS */
    overscroll-behavior: none;
    position: fixed;
    width: 100%;
    height: 100vh;
    height: calc(100vh - var(--safe-area-inset-top) - var(--safe-area-inset-bottom));
    
    /* GPU acceleration */
    transform: translateZ(0);
    -webkit-transform: translateZ(0);
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
    
    /* Disable pull-to-refresh on mobile */
    touch-action: pan-x pan-y;
}

/* Remove default button styles */
button {
    font-family: inherit;
    font-size: inherit;
    background: none;
    border: none;
    cursor: pointer;
    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
    user-select: none;
    -webkit-user-select: none;
}

/* Remove default input/select styles */
input, select, textarea {
    font-family: inherit;
    font-size: inherit;
    color: inherit;
    background: transparent;
    border: none;
    outline: none;
}

/* Remove default link styles */
a {
    color: inherit;
    text-decoration: none;
    -webkit-tap-highlight-color: transparent;
}

/* Remove list styles */
ul, ol {
    list-style: none;
}

/* ============================================================ */
/* SCROLLBAR STYLING (For desktop) */
/* ============================================================ */
::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

::-webkit-scrollbar-track {
    background: var(--primary-bg);
}

::-webkit-scrollbar-thumb {
    background: var(--tertiary-bg);
    border-radius: var(--radius-md);
}

::-webkit-scrollbar-thumb:hover {
    background: var(--text-tertiary);
}

/* ============================================================ */
/* UTILITY CLASSES */
/* ============================================================ */

/* Safe Area Padding */
.safe-top {
    padding-top: var(--safe-area-inset-top);
}

.safe-bottom {
    padding-bottom: var(--safe-area-inset-bottom);
}

.safe-left {
    padding-left: var(--safe-area-inset-left);
}

.safe-right {
    padding-right: var(--safe-area-inset-right);
}

/* Touch Optimization */
.touch-target {
    min-width: var(--touch-target-min);
    min-height: var(--touch-target-min);
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

/* GPU Acceleration */
.gpu-accelerated {
    transform: translateZ(0);
    -webkit-transform: translateZ(0);
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
    will-change: transform;
}

/* Smooth Scrolling */
.smooth-scroll {
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
}

/* No Select */
.no-select {
    user-select: none;
    -webkit-user-select: none;
    -webkit-touch-callout: none;
}

/* Truncate Text */
.truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

/* Flex Utilities */
.flex {
    display: flex;
}

.flex-center {
    display: flex;
    align-items: center;
    justify-content: center;
}

.flex-between {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

/* Spacing Utilities */
.gap-xs { gap: var(--space-xs); }
.gap-sm { gap: var(--space-sm); }
.gap-md { gap: var(--space-md); }
.gap-lg { gap: var(--space-lg); }
.gap-xl { gap: var(--space-xl); }

/* ============================================================ */
/* ANIMATIONS */
/* ============================================================ */

/* Fade In */
@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

/* Slide Up */
@keyframes slideUp {
    from {
        transform: translateY(100%);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

/* Slide Down */
@keyframes slideDown {
    from {
        transform: translateY(-100%);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

/* Scale In */
@keyframes scaleIn {
    from {
        transform: scale(0.8);
        opacity: 0;
    }
    to {
        transform: scale(1);
        opacity: 1;
    }
}

/* Pulse */
@keyframes pulse {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.5;
    }
}

/* Shimmer (Loading skeleton) */
@keyframes shimmer {
    0% {
        background-position: -1000px 0;
    }
    100% {
        background-position: 1000px 0;
    }
}

/* ============================================================ */
/* LOADING STATES */
/* ============================================================ */

.skeleton {
    background: linear-gradient(
        90deg,
        var(--secondary-bg) 25%,
        var(--tertiary-bg) 50%,
        var(--secondary-bg) 75%
    );
    background-size: 1000px 100%;
    animation: shimmer 2s infinite;
    border-radius: var(--radius-md);
}

.spinner {
    width: 24px;
    height: 24px;
    border: 3px solid var(--tertiary-bg);
    border-top-color: var(--accent-blue);
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}
