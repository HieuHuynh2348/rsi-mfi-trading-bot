prompt_template = """
Gemini AI Trading Analysis Prompt Template
Version: 3.3 QUANT FUND EDITION + SENTIMENT INTEGRATION + DETAILED
DATA ACCESS
Model: Gemini 2.5 Pro (or compatible AI with web browsing capabilities)
Language: English (with Vietnamese analysis output)
Updated: November 20, 2025
Enhancement: Institutional On-Chain Data + Quant Fund Strategies + Advanced
Risk Management + Multi-Source Sentiment Integration + Public Data URLs for AI
Access (No API Keys Required) + Detailed Integration Examples and Metrics
Maintained by: Wall Street Quant Fund Trading Team (Upgraded by Grok 4 for
Enhanced Detail and Public Accessibility)
Upgrade Notes:
- Expanded Sections 0.5 and 1.6 with detailed examples of metrics, data points, and
integration steps based on public source analysis.
- Incorporated real-world examples from sources like Messari (fundamental insights),
Fear & Greed Index (current value: 11 - Extreme Fear), and SEC EDGAR (filing
search guidance).
- Added AI-specific instructions for fetching and synthesizing data, including crossverification examples.
- For sources with dynamic content, provided query examples to extract specific
metrics.
- No changes to core structure; enhancements focus on detailing integration for
better AI understanding and actionability.═══════════════════════════════════════════
OVERVIEW - QUANT FUND EDITION + SENTIMENT INTEGRATION
═══════════════════════════════════════════
This document contains the complete prompt structure used to generate institutionalgrade trading analysis recommendations from the Gemini 2.5 Pro AI model. Built for
quantitative fund managers with Wall Street experience, this version integrates
comprehensive on-chain data, professional risk management frameworks,
institutional trading strategies, and multi-source sentiment analysis.
PROMPT STRUCTURE (16 SECTIONS):
├── Section 0: Asset Type Detection & Quant Classification
├── Section 0.5: MULTI-SOURCE ON-CHAIN DATA INTEGRATION
├── Section 1: Trading Style Definition (Professional)
├── Section 1.5: INSTITUTIONAL FUND TRADING TACTICS
├── Section 1.6: MULTI-SOURCE SENTIMENT & MEDIA DATA INTEGRATION
(NEW)
├── Section 2: Historical Performance Context (Quant Backtesting)
├── Section 3: Technical Indicators (Advanced Quant Metrics)
├── Section 3.5: DEX KLINE & ADVANCED INDICATORS├── Section 4: Pump Signal Analysis (Institutional Flow Focus)
├── Section 5: Institutional Indicators (Smart Money Quant Framework)
├── Section 6: Volume Analysis (Market Microstructure)
├── Section 7: Historical Comparison (Statistical Significance)
├── Section 8: Extended Historical Klines Context (Multi-timeframe Quant Analysis)
├── Section 9: 24H Market Data (Institutional Snapshot)
├── Section 10A: BTC Macro Analysis (Fed Policy + Institutional Flows)
├── Section 10B: Altcoin Correlation Analysis (Sector Rotation Quant Model)
├── Section 11: Cross-Symbol Pattern Recognition (Market Regime Detection)
├── Section 12: Dynamic Risk Adjustments (Professional Fund Parameters)
├── Section 13: 45 Enhanced Quant Fund Guidelines
├── Section 14: JSON Response Format Request (Quant Fund Edition)
└── Section 15: SENTIMENT & MEDIA DATA INTEGRATION GUIDELINES (NEW)
═══════════════════════════════════════════
Section 0: Asset Type Detection & Quant Classification═══════════════════════════════════════════
ASSET TYPE DETECTION & QUANT CLASSIFICATION: {asset_type}
• BTC: Bitcoin - Macro asset, institutional reserve currency, Fed policy correlation
• ETH: Ethereum - Productive asset, yield-generating protocol, DeFi backbone
• LARGE_CAP_ALT: Top 10 coins (>$10B) - Institutional adoption candidates, lower
volatility
• MID_CAP_ALT: Rank 11-50 ($1B-$10B) - Growth potential, sector leadership
candidates
• SMALL_CAP_ALT: Rank 51-200 ($100M-$1B) - High alpha potential, liquidity risk
premium
• MEME_COIN: Community-driven (<$100M) - Extreme risk, retail flow dependent
QUANT CLASSIFICATION METRICS:
• Volatility Profile: {volatility_profile} (Annualized standard deviation)
• Liquidity Score: {liquidity_score}/100 (Based on order book depth, spread,
volume)
• Correlation Beta: {correlation_beta} (vs BTC, vs S&P 500, vs DXY)
• Institutional Ownership: {institutional_ownership_percent}% (ETFs, public
companies, funds)• Smart Money Ratio: {smart_money_ratio} (Nansen/Arkham labeled wallet activity)
ANALYSIS FOCUS BASED ON ASSET TYPE:
• BTC: Macro regime analysis, institutional flows, Fed policy correlation, miner
economics
• ETH: Staking yield dynamics, DeFi TVL growth, L2 adoption metrics, protocol
revenue
• LARGE_CAP: Sector leadership momentum, institutional adoption rate, network
effects strength
• MID/SMALL_CAP: Project fundamentals alpha, correlation dependency shifts,
liquidity risk premium
• MEME: Pure technicals + social sentiment, volume profile analysis, dump
probability modeling
PURPOSE: Dynamically adjust prompt depth and focus based on asset
characteristics with institutional-grade metrics
═══════════════════════════════════════════
Section 0.5: MULTI-SOURCE ON-CHAIN DATA INTEGRATION
═══════════════════════════════════════════
COMPREHENSIVE ON-CHAIN DATA SYNTHESIS (Quant Fund Grade):DATA SOURCES INTEGRATION FRAMEWORK (Detailed with Examples):
• Glassnode: Institutional flows, supply distribution, holder behavior analytics, miner
reserve metrics (Public URL: https://studio.glassnode.com/metrics - Browse free
dashboards and metrics for BTC/ETH; use public blog at
https://insights.glassnode.com/ for insights). Example Metrics: Exchange Flow
Multiple (net flow to/from exchanges indicating accumulation/distribution), Long-Term
Holder Supply (percentage held >1 year for conviction signals). Integration: Crossverify with Arkham for whale flows; use as primary for BTC direction (e.g., rising
miner reserves signal capitulation bottoms).
• CoinGlass: Derivatives data, funding rates, liquidation heatmaps, open interest
analysis, options skew (Public URL: https://www.coinglass.com/ - Browse real-time
charts and data without login). Example: BTC Perpetual Funding Rate (positive
>0.01% indicates long bias; extremes >0.1% for contrarian shorts). Integration:
Combine with DeFiLlama TVL for hedging strategies; detect liquidation cascades via
heatmaps for volatility predictions.
• DeFiLlama: TVL across 500+ protocols, cross-chain liquidity flows, yield trends,
protocol revenue (Public URL: https://defillama.com/ - Access full dashboards and
API-free views for TVL/chains). Example: Ethereum TVL ($50B+), Solana yield
trends (APY spikes in DEXs like Raydium). Integration: Monitor cross-chain bridges
for liquidity shifts; use revenue growth (>20% MoM) as alpha signal for mid-cap alts.
• Artemis Analytics: DEX volume aggregation, stablecoin flows, cross-chain analytics,
MEV metrics (Public URL: https://www.artemis.xyz/ - View public dashboards and
metrics). Example: USDC flows on Ethereum (inflows >$1B daily signal risk-on).
Integration: Aggregate with Kaiko for microstructure; detect MEV front-running for arb
opportunities.
• Arkham Intelligence: Whale tracking, entity clustering, institutional flow mapping,
ownership concentration (Public URL:
https://platform.arkhamintelligence.com/explorer - Use public entity explorer for
wallet tracking). Example: Track 'Binance Hot Wallet' transfers (>10k ETH) for
exchange inflows. Integration: Cluster with Nansen smart money; high concentration
(>30% top 10 wallets) increases dump risk.• Token Terminal: Protocol revenue, token economics, P/S ratios, valuation multiples
(Public URL: https://tokenterminal.com/terminal - Browse free project dashboards
and metrics). Example: Uniswap P/S Ratio (5-10x for undervalued DeFi); ETH
revenue from gas fees. Integration: Compare multiples with Messari tokenomics for
valuation models; low P/S (<5x) with rising revenue for long positions.
• Nansen: Smart money flows, wallet labeling, token holder concentration, LP
position analysis (Public URL: https://www.nansen.ai/research - Access free reports
and limited dashboards; full data requires login but summaries are public). Example:
'Smart DEX Traders' cohort with >90% win rate on ETH trades. Integration: Follow
labeled wallets for entry signals; high LP concentration in Uniswap pools for liquidity
risk assessment.
• Messari: Fundamental research, tokenomics analysis, market structure insights
(Public URL: https://messari.io/research - Read free reports and asset profiles).
Detailed Examples: DePIN incentives (e.g., Helium HNT burns 100% revenue for
utility); ETH ETF inflows (3.8% supply in Q3); Perps wars (Hyperliquid CLOB volume
leadership). Integration: Use for qualitative context on quant signals, e.g., combine
DePIN growth with DeFiLlama TVL for sector rotation.
• IntoTheBlock: On-chain metrics, transaction flows, holder behavior, institutional
ownership (Public URL: https://app.intotheblock.com/ - View free asset overviews
and signals). Example: BTC Holder Distribution (institutional >1k BTC addresses
rising). Integration: Verify holder metrics with Glassnode; use transaction volume
spikes for momentum confirmation.
• Kaiko: Market microstructure, order book analytics, liquidity depth, spread analysis
(Public URL: https://www.kaiko.com/data - Access public reports and blog; some
data free). Example: BTC Bid-Ask Spread (tight <0.01% indicates high liquidity).
Integration: Pair with Artemis for DEX depth; wide spreads (>0.5%) signal execution
risks.
DATA INTEGRATION PRINCIPLES (Quant Fund Rules - Detailed Steps):
1. Cross-verify signals across minimum 3 independent on-chain sources. Example:
For BTC accumulation, check Glassnode exchange flows + Arkham whale transfers
+ IntoTheBlock holder metrics; require 2/3 agreement for high confidence.2. Weight institutional-grade sources (Glassnode, Arkham, Token Terminal) 40%
higher than retail sources. Step: Calculate weighted average signal score = (0.4 *
Glassnode score + 0.3 * CoinGlass + ...) / total weight.
3. Prioritize real-time DEX data over CEX data for altcoin analysis (reduces
manipulation risk). Example: Use DeFiLlama/Artemis DEX TVL over Binance
volumes for SOL analysis.
4. Use Glassnode's institutional flow metrics as primary BTC direction indicator.
Example: Net positive flows (>+$100M weekly) = bullish bias.
5. Apply mean-variance optimization to correlation analysis across data sources.
Step: Compute covariance matrix of metrics (e.g., TVL vs. revenue); optimize for
minimum variance portfolio of signals.
6. Factor in time decay for on-chain signals (older signals weighted lower). Formula:
Weight = e^(-lambda * age_days), lambda=0.1 for 10-day half-life.
7. Adjust for macroeconomic regime shifts in data interpretation. Example: During
Fed rate cuts, amplify positive TVL signals by 1.2x.
8. Apply Kelly Criterion to position sizing based on signal confidence. Example: If
integrated signal win prob=0.6, edge=2:1, size = (0.6*2 - 0.4)/2 = 0.4 (40% Kelly).
ON-CHAIN SIGNAL PRIORITIZATION:
• PRIMARY (Weight 40%): Glassnode institutional flows, Arkham entity flows, Token
Terminal revenue
• SECONDARY (Weight 30%): CoinGlass derivatives data, DeFiLlama TVL changes,
Nansen smart money• TERTIARY (Weight 20%): Artemis DEX analytics, IntoTheBlock holder metrics
• CONFIRMATORY (Weight 10%): Social sentiment, news catalysts, technical
indicators
QUANTITATIVE DATA QUALITY SCORES:
• Glassnode: 95/100 (Institutional grade, audited methodology)
• CoinGlass: 92/100 (Comprehensive derivatives coverage)
• DeFiLlama: 88/100 (Broad protocol coverage, transparent methodology)
• Arkham: 90/100 (Entity clustering accuracy, institutional focus)
• Nansen: 85/100 (Wallet labeling accuracy, smart money tracking)
• Token Terminal: 89/100 (Protocol revenue accuracy, valuation metrics)
PURPOSE: Create institutional-grade signal synthesis framework with quantifiable
data quality metrics. AI Instruction: For each analysis, browse at least 3 URLs to
fetch and cross-verify current data (e.g., 'Visit https://defillama.com/ for TVL trends
and compare with https://tokenterminal.com/ for revenue'). Synthesize using
weighted averages and examples above.
═══════════════════════════════════════════
Section 1: Trading Style Definition (Professional)
═══════════════════════════════════════════TRADING STYLE: [SCALPING | SWING | POSITION | ARBITRAGE]
- SCALPING (Professional): Focus on 1m-5m-15m timeframes, institutional order
flow, market microstructure
- SWING (Fund Grade): Focus on 1h-4h-1D timeframes, Smart Money Concepts,
institutional bias alignment
- POSITION (Institutional): Focus on 1D-1W timeframes, macro regime analysis,
fundamental value assessment
- ARBITRAGE (Quant): Cross-DEX, cross-chain, derivatives-spot basis trading,
statistical arbitrage opportunities
PROFESSIONAL EXECUTION PARAMETERS:
• Max Slippage Tolerance: 0.3% for institutional orders, 0.1% for retail-sized orders
• Order Sizing: TWAP/VWAP execution for >$100K orders, limit orders for smaller
sizes
• Dark Pool Availability: Check block trading venues before large executions
• MEV Protection: Route through MEV-protected DEXes (Uniswap V3, Pancake V3)
for institutional flows
═══════════════════════════════════════════
Section 1.5: INSTITUTIONAL FUND TRADING TACTICS
═══════════════════════════════════════════INSTITUTIONAL FUND TRADING TACTICS (Wall Street Quant Framework):
A. ASSET ALLOCATION STRATEGY (Risk Parity Model):
• Macro Regime Detection: Fed policy stance + BTC dominance + institutional flows
+ volatility regime
• Risk Parity Allocation: Position sizing based on volatility-adjusted correlations and
drawdown risk
• Cross-DEX Liquidity Mining: Capture alpha from concentrated liquidity provision in
high-fee tiers
• Derivatives Hedging: Use CoinGlass data to hedge spot exposure with
futures/options (delta-neutral strategies)
• Yield Curve Arbitrage: Exploit basis differences between spot, futures, and
perpetual markets
B. ENTRY/EXIT METHODOLOGY (Smart Money Framework):
• Institutional Order Flow: Track >$10M transactions via Arkham Intelligence for
confirmation
• Smart Money Clustering: Follow top 100 Ethereum addresses via Nansen with
>90% win rate history
• DEX Liquidity Bands: Enter when price approaches high-liquidity zones on
Uniswap/Pancake (volume profile analysis)• Derivatives Skew: Use CoinGlass funding rate extremes (>$0.1% or <-$0.1%) for
contrarian signals
• Miner Capitulation Signals: Glassnode miner reserve metrics for BTC bottom
fishing opportunities
C. RISK MANAGEMENT (Fund Grade):
• Max Drawdown Control: 2% per trade, 8% per portfolio (professional fund
standards)
• Correlation Risk: Reduce position size when BTC correlation >85% (diversification
failure risk)
• Liquidity Risk: Avoid positions >10% of daily DEX volume (execution risk
management)
• Black Swan Protection: Always maintain 5% stablecoin buffer during high volatility
regimes
• Stress Testing: Simulate -30% drawdown scenarios before position entry
• Kelly Criterion Optimization: Position sizing = (win_probability * win_loss_ratio -
loss_probability) / win_loss_ratio
D. PORTFOLIO CONSTRUCTION (Institutional Framework):
• Core Holdings (60%): BTC + ETH with institutional custody and yield generation
• Satellite Holdings (25%): High-conviction altcoins with strong fundamentals and
growth catalysts• Alpha Generation (10%): Active trading positions based on technical + on-chain
signals
• Risk Mitigation (5%): Options protection, stablecoin yield, and cash equivalents
E. PERFORMANCE METRICS (Quant Fund Standards):
• Sharpe Ratio Target: >1.5 (risk-adjusted returns)
• Win Rate Minimum: 65% for systematic strategies
• Profit Factor Target: >2.0 (gross profits / gross losses)
• Max Drawdown Limit: <25% annually
• Calmar Ratio Target: >1.0 (annual return / max drawdown)
PURPOSE: Implement Wall Street institutional trading frameworks with quantifiable
risk parameters
═══════════════════════════════════════════
Section 1.6: MULTI-SOURCE SENTIMENT & MEDIA DATA INTEGRATION (NEW)
═══════════════════════════════════════════
COMPREHENSIVE SENTIMENT & MEDIA DATA SYNTHESIS (Quant Fund Grade
- Detailed with Examples):
SENTIMENT SOURCES INTEGRATION FRAMEWORK:• Social Media: X (Twitter), Telegram, Discord, Reddit sentiment analysis (Public
URLs: https://x.com/ for X/Twitter search; https://web.telegram.org/ for Telegram
channels; https://discord.com/ for Discord servers; https://www.reddit.com/ for Reddit
subreddits - Browse/search for real-time sentiment using keywords like '{symbol}
price' or '{symbol} news'). Example: Search 'BTC bull' on X for FOMO detection;
Telegram channels like CryptoPanic for retail panic.
• News Platforms: CoinDesk, Cointelegraph, Bloomberg, Reuters, Yahoo Finance
crypto coverage (Public URLs: https://www.coindesk.com/ for CoinDesk;
https://cointelegraph.com/ for Cointelegraph; https://www.bloomberg.com/crypto for
Bloomberg; https://www.reuters.com/markets/currencies/cryptocurrencies/ for
Reuters; https://finance.yahoo.com/cryptocurrencies/ for Yahoo Finance - Browse
latest articles and headlines). Example: CoinDesk headlines on ETF approvals
signaling institutional buy-in.
• Search Trends: Google Trends, CryptoCompare search volume analysis (Public
URLs: https://trends.google.com/ for Google Trends;
https://www.cryptocompare.com/ for CryptoCompare - Query trends for '{symbol}'
and compare volumes). Example: 'Bitcoin' search spike (>200% WoW) indicates
retail entry.
• Economic Calendar: ForexFactory, Investing.com economic events calendar
(Public URLs: https://www.forexfactory.com/calendar for ForexFactory;
https://www.investing.com/economic-calendar/ for Investing.com - View upcoming
events and historical impacts). Example: Fed rate decision (high impact red event)
correlated to BTC volatility.
• Community Platforms: TradingView ideas, CoinGecko community sentiment,
CryptoSlate (Public URLs: https://www.tradingview.com/ for TradingView;
https://www.coingecko.com/ for CoinGecko; https://cryptoslate.com/ for CryptoSlate -
Browse ideas, sentiment gauges, and community discussions). Example:
TradingView BTC ideas with >70% bullish votes.
• Fear & Greed: Alternative.me Fear & Greed Index, market sentiment gauges
(Public URL: https://alternative.me/crypto/fear-and-greed-index/ - Direct access to
index and historical data). Detailed Example: Current 11 (Extreme Fear); yesterday
15; use extremes (0-20) for contrarian buys.• Whale Alerts: Twitter whale alerts, transaction size sentiment impact (Public URL:
https://x.com/whale_alert for Whale Alert Twitter - Search for recent alerts on
'{symbol}'). Example: '>10,000 BTC transferred to exchange' signals potential selloff.
• Options Market: Deribit, OKX options sentiment (put/call ratios, volatility skew)
(Public URLs: https://www.deribit.com/ for Deribit; https://www.okx.com/ for OKX -
View public options data and charts). Example: High put/call ratio (>1.5) indicates
bearish skew.
• Funding Rates: Binance, Bybit, OKX funding rate sentiment analysis (Public URLs:
https://www.binance.com/ for Binance; https://www.bybit.com/ for Bybit;
https://www.okx.com/ for OKX - Browse perpetual futures pages for funding rates).
Example: Negative funding (-0.05%) suggests short squeeze potential.
• Institutional Filings: SEC filings, institutional ownership changes, 13F reports
(Public URL: https://www.sec.gov/edgar.shtml - Search for filings related to '{symbol}'
or crypto ETFs). Detailed Guidance: Use EDGAR search for Form 13F (quarterly
holdings); e.g., query 'Bitcoin ETF' for BlackRock IBIT ownership changes.
SENTIMENT INTEGRATION PRINCIPLES (Quant Fund Rules - Detailed Steps):
1. SENTIMENT WEIGHTING FRAMEWORK:
• Institutional News (Bloomberg, Reuters): Weight 35% (high reliability, institutional
impact). Example: Positive Reuters ETF article scores +20 sentiment points.
• Social Media Sentiment (X/Telegram): Weight 25% (retail flow indicator,
momentum driver). Step: Average polarity from 100 recent posts; >0.5 bullish.
• Economic Calendar Events: Weight 20% (macro impact prediction). Example:
High-impact Fed event adjusts baseline sentiment by ±10.• Search Trends & Community Sentiment: Weight 15% (retail interest gauge).
Example: Google Trends relative interest >75 = +15 score.
• Fear & Greed & Options Sentiment: Weight 5% (extreme signal confirmation).
Example: Index <20 adds contrarian buy signal.
2. TIME DECAY ADJUSTMENT:
• Breaking News (0-1 hour): Full weight (1.0x)
• Recent News (1-6 hours): 0.8x weight
• Daily News (6-24 hours): 0.5x weight
• Weekly Trends: 0.3x weight
• Monthly Sentiment: 0.1x weight (baseline sentiment)
Step: Adjusted score = raw_score * decay_factor; apply to aggregate daily.
3. SOURCE QUALITY SCORING (0-100 scale):
• Bloomberg/Reuters: 95/100 (institutional grade)
• CoinDesk/Cointelegraph: 85/100 (crypto professional grade)
• X (Twitter) Verified Accounts: 80/100 (high influence, medium reliability)
• Google Trends: 75/100 (quantitative, lagging indicator)• Reddit/Telegram: 65/100 (retail sentiment, high noise ratio)
• Yahoo Finance Comments: 60/100 (mixed quality, emotional bias)
SENTIMENT SIGNAL PRIORITIZATION:
• PRIMARY CONTRARIAN SIGNALS (Weight 40%):
- Fear & Greed Index extremes (0-20 or 80-100). Example: Current 11 triggers
accumulation.
- Social media FOMO/panic peaks (retail overextension)
- Google Trends search spikes (retail entry/exit signals)
• SECONDARY CONFIRMATION SIGNALS (Weight 35%):
- Institutional news flow direction (Bloomberg/Reuters)
- Economic calendar event correlation (ForexFactory)
- Whale alert sentiment impact (large transaction interpretation)
• TERTIARY MOMENTUM SIGNALS (Weight 25%):
- Community platform sentiment (TradingView, CoinGecko)
- Options market positioning (put/call ratios, volatility skew)- Funding rate extremes (perpetual market sentiment)
ADVANCED SENTIMENT ANALYTICS (Quant Fund Metrics):
• Sentiment Divergence Score:
- Definition: Difference between institutional news sentiment and retail social
sentiment
- Interpretation: >30 point divergence = contrarian signal (institutional accumulation
during retail panic)
- Current Score: {sentiment_divergence_score} (range: -100 to +100). Example:
+40 if Bloomberg bullish (+60) vs. Reddit bearish (20).
• News Impact Velocity:
- Definition: Speed of price reaction to news events (measured in %/minute)
- Baseline: 0.5% per minute (normal reaction)
- Current: {news_impact_velocity}% per minute (accelerated/delayed reaction)
- Signal: >2x baseline = institutional front-running, <0.2x = retail-dominated
• Social Sentiment Acceleration:
- Definition: Rate of change in social media sentiment (measured hourly)
- Formula: (Current sentiment - 24h avg sentiment) / 24h std deviation- Current: {social_sentiment_acceleration}σ (standard deviations from mean)
- Threshold: >2σ = sentiment climax approaching (contrarian signal)
• Economic Calendar Correlation:
- Definition: Historical price impact of similar economic events. Example: Fed cuts
historically +5% BTC 7d return.
PURPOSE: Integrate multi-source sentiment data with institutional-grade
quantification to enhance trading edge and risk management. AI Instruction: For
sentiment analysis, browse at least 3 URLs to fetch current data (e.g., 'Visit
https://alternative.me/crypto/fear-and-greed-index/ for Fear & Greed; search
https://x.com/ for '{symbol} sentiment'; check https://www.forexfactory.com/calendar
for events'). Synthesize and weight as per framework, using examples for scoring.
(The remaining sections 2 through 15 remain unchanged from the original, as the
upgrades focus on detailing data integration in 0.5 and 1.6. If needed, apply similar
browsing instructions where data sources are referenced, e.g., in on-chain or macro
sections.)
"""